---
title: Output Formats
sidebar_position: 5
---

# Output Formats

Bellwether generates output in multiple formats to support different use cases: documentation and machine-readable reports.

## Available Formats

| Format | File | Use Case |
|:-------|:-----|:---------|
| Markdown | `CONTRACT.md` (check) / `AGENTS.md` (explore) | Human-readable documentation |
| JSON | `bellwether-check.json` / `bellwether-explore.json` | Machine-readable data |
| Baseline | `bellwether-baseline.json` | Drift detection (with `bellwether baseline save`) |
| JUnit | (stdout) | CI test reporting (when `--format junit` and a baseline is compared) |
| SARIF | (stdout) | GitHub Code Scanning (when `--format sarif` and a baseline is compared) |
| Compact | (stdout) | Single-line summary for log aggregation |
| GitHub | (stdout) | GitHub Actions annotations |

## Markdown (Default)

Human-readable documentation. Check generates `CONTRACT.md`, explore generates `AGENTS.md`.

```bash
bellwether check npx your-server
# Output: CONTRACT.md
```

### Example Output

```markdown
# @modelcontextprotocol/server-filesystem

> Generated by Bellwether on 2026-01-12 using claude-sonnet-4-5

## Overview

A file management server providing read/write access to the local filesystem.

## Tools

### read_file

Reads the contents of a file from the specified path.

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| path | string | yes | Path to the file |

**Observed Behavior:**
- Returns file contents as UTF-8 text
- Binary files returned as base64
- Maximum file size: 10MB

**Error Handling:**
- `ENOENT`: File not found
- `EACCES`: Permission denied

**Limitations:**
- Cannot read outside root directory

**Security Considerations:**
- Path traversal normalized within root

## Quick Reference

| Tool | Signature |
|------|-----------|
| read_file | `read_file(path)` |
| write_file | `write_file(path, content)` |

## Performance

| Tool | Calls | Avg | P95 | Max | Errors |
|------|-------|-----|-----|-----|--------|
| read_file | 5 | 45ms | 120ms | 150ms | 0% |
| write_file | 3 | 89ms | 200ms | 250ms | 0% |

### Performance Insights
- All tools performing within acceptable limits

## Prompts

### summarize_file

Generates a summary of a file's contents.

| Argument | Type | Required | Description |
|----------|------|----------|-------------|
| path | string | yes | Path to the file to summarize |
| max_length | number | no | Maximum summary length |

**Expected Output:**
Returns a structured summary prompt message suitable for LLM processing.

**Behavior Notes:**
- Works best with text files under 50KB
- Returns error for binary files
```

The `CONTRACT.md` output includes:
- **Tool Profiles** - Behavioral documentation for each tool
- **Prompt Profiles** - Documentation for prompts (if the server exposes any)
- **Quick Reference** - Tool signatures for easy lookup
- **Performance Metrics** - Response times and error rates for each tool

## JSON Report

Machine-readable format for programmatic access.

JSON reports are always generated for both commands. File names and locations are configurable in `bellwether.yaml`:

```yaml
output:
  dir: ".bellwether"
  files:
    checkReport: "bellwether-check.json"
    exploreReport: "bellwether-explore.json"
```

### Example Output

```json
{
  "version": 1,
  "timestamp": "2026-01-12T10:30:00Z",
  "server": {
    "name": "@modelcontextprotocol/server-filesystem",
    "version": "0.10.1"
  },
  "tools": [
    {
      "name": "read_file",
      "description": "Reads file contents",
      "schema": {
        "type": "object",
        "properties": {
          "path": { "type": "string" }
        },
        "required": ["path"]
      },
      "interview": {
        "questionsAsked": 3,
        "observations": [...],
        "errors": [...],
        "security": [...]
      }
    }
  ],
  "prompts": [
    {
      "name": "summarize_file",
      "description": "Generate a summary of file contents",
      "arguments": [
        { "name": "path", "required": true },
        { "name": "max_length", "required": false }
      ],
      "interview": {
        "questionsAsked": 2,
        "observations": [...],
        "errors": [...]
      }
    }
  ],
  "scenarioResults": [
    {
      "type": "tool",
      "name": "read_file",
      "description": "Read existing file",
      "passed": true,
      "assertions": [...]
    }
  ],
  "cost": {
    "tokens": 1234,
    "estimatedCost": 0.02
  }
}
```

The JSON report includes:
- `tools` and `prompts` arrays with their respective interview results
- `scenarioResults` array with custom scenario test results (if scenarios were run)

## Baseline Format

Save a baseline for drift detection:

```bash
bellwether check npx your-server
bellwether baseline save
# Output: bellwether-baseline.json
```

The baseline captures the server's behavior at a point in time. Later, compare against it:

```bash
bellwether check npx your-server
bellwether baseline compare ./bellwether-baseline.json
```

Baseline format versions follow the CLI package version; baselines are compatible when their major versions match.

### Example Baseline

```json
{
  "version": "0.10.1",
  "createdAt": "2026-01-12T10:30:00Z",
  "serverCommand": "npx @modelcontextprotocol/server-filesystem /tmp",
  "mode": "check",
  "integrityHash": "a1b2c3d4e5f6...",
  "server": {
    "name": "@modelcontextprotocol/server-filesystem",
    "version": "0.10.1",
    "protocolVersion": "2024-11-05",
    "capabilities": ["tools"]
  },
  "tools": [
    {
      "name": "read_file",
      "description": "Read contents of a file",
      "schemaHash": "def456...",
      "securityNotes": [...],
      "limitations": [...]
    }
  ],
  "assertions": [...]
}
```

## Multiple Formats

Both documentation and JSON reports are always generated. Control their locations in `bellwether.yaml`:

```yaml
output:
  dir: ".bellwether"   # JSON reports
  docsDir: "."         # CONTRACT.md / AGENTS.md
```

## Custom Output Directory

Set `output.dir` for JSON files and `output.docsDir` for markdown docs.

## JUnit Format

Generate JUnit XML for drift reports (stdout):

```bash
bellwether check --format junit > bellwether-results.xml
```

These formats are emitted only when a baseline comparison is performed.

JUnit output includes test cases for:
- Schema changes (breaking, warning, info)
- Performance regressions
- Security findings
- Documentation quality
- Error pattern changes

## SARIF Format

Generate SARIF for drift reports (stdout):

```bash
bellwether check --format sarif > bellwether.sarif
```

These formats are emitted only when a baseline comparison is performed.

SARIF rules include:
- `BWH001-004`: Schema drift rules (breaking, warning, info)
- `BWH005-009`: Security finding rules (by risk level)
- `BWH010-011`: Error pattern rules
- `BWH012-013`: Performance regression and confidence rules
- `BWH014-015`: Documentation quality rules

## Report Sections

Check mode reports include these sections:

### Performance Metrics

```
─── Performance ───
  Tool: read_file
  P50: 45ms | P95: 120ms | Success: 98%
  Confidence: high (15 samples, CV: 0.28)
```

### Security Findings (with `check.security.enabled`)

```
─── Security ───
  Tool: execute_query
  Category: sql_injection
  Risk: critical
  Finding: Tool accepted SQL injection payload
```

### Documentation Quality

```
─── Documentation Quality ───
  Score: 85/100 (B)
  Coverage: 100% | Quality: 80% | Params: 85%
  Issues: 2 (1 warning, 1 info)
```

### Error Analysis

```
─── Error Summary ───
  Category: NotFound (ENOENT)
  Root Cause: File does not exist
  Remediation: Verify path before calling
```

## See Also

- [CI/CD Integration](/guides/ci-cd) - Using outputs in pipelines
- [check](/cli/check) - Output options
- [Drift Detection](/concepts/drift-detection) - Comparing outputs
